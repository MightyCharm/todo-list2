(()=>{"use strict";class e{constructor(e,t,o,i,a=!1,r){this.title=e,this.description=t,this.dueDate=o,this.priority=i,this.done=a,this.id=void 0===r?self.crypto.randomUUID():r}getId(){return this.id}getTitle(){return this.title}setTitle(e){this.title=e}getDescription(){return this.description}setDescription(e){this.description=e}getPriority(){return this.priority}setPriority(e){this.priority=e}getDueDate(){return this.dueDate}setDueDate(e){this.dueDate=e}setDone(e){this.done=e}getDone(){return this.done}}class t{constructor(e,t){this.name=e,this.id=void 0===t?self.crypto.randomUUID():t,this.todos=[]}addToDo({title:t,description:o,dueDate:i,priority:a,done:r,id:d}){const s=new e(t,o,i,a,r,d);return this.todos.push(s),s.id}removeToDo(e){this.todos=this.todos.filter(t=>t.id!==e),console.log("todo was removed.")}getToDos(){return this.todos}toggleComplete(e){const t=this.todos.find(t=>t.id===e);t?t.done=!t.done:console.log("todo not found")}updateToDo(e,t){const o=this.todos.find(t=>t.id===e);o?(o.setDueDate(t.dueDate),o.setPriority(t.priority),o.setDone(t.done),o.setTitle(t.title),o.setDescription(t.description)):console.log("todo not found.")}getName(){return this.name}setName(e){this.name=e}getId(){return this.id}getToDo(e){const t=this.todos.find(t=>t.id===e);if(t)return t}}const o="default-project-DP";class i{constructor(){this.activeProject,this.projects=[]}addProject(e){const o=new t(e);return this.activeProject=o,this.projects.push(o),o}reconstructProjects(e){e.forEach(e=>{const i=new t(e.name,e.id);e.todos.forEach(e=>{i.addToDo(e)}),this.projects.push(i),i.getId()===o&&(this.activeProject=i,this.default=i)})}removeProject(e){return e!==this.default.id&&(this.projects=this.projects.filter(t=>t.id!==e),this.activeProject.getId()===e&&(this.activeProject=this.default),!0)}switchActiveProject(e){const t=this.projects.find(t=>t.id===e);t&&(this.activeProject=t)}getProjects(){return this.projects}getActiveProject(){return this.activeProject}getDefaultProject(){return this.default}setLocalStorage(){const e=this.getProjects();localStorage.setItem("projects",JSON.stringify(e))}getLocalStorage(){const e=localStorage.getItem("projects");return e?JSON.parse(e):[]}createDefaultProject(){this.default=new t("Default",o),this.activeProject=this.default,this.projects.push(this.default)}getProjectById(e){return this.projects.find(t=>t.id===e)}}class a{#e=!1;#t=null;static validationMessages={projectName:"Invalid Name",date:"Invalid Date",title:"Invalid Title",description:"Invalid Description"};constructor(e,t,o,i){this.projectList=e,this.containerProjectBtn=t,this.containerToDos=o,this.projectManager=i,this.isCreateProject=!1,this.isEditProject=!1,this.isCreateToDo=!1,this.isEditToDo=!1}updateButtonStates(e=null){console.log("updateButtonState()"),console.log(`isCreateProject: ${this.isCreateProject}`),console.log(`isEditProject: ${this.isEditProject}`),console.log(`isCreateToDo: ${this.isCreateToDo}`),console.log(`isEditToDo: ${this.isEditToDo}`);const t=document.getElementById("btn-add-project"),o=document.querySelectorAll(".btn-kebab-menu-project"),i=document.getElementById("btn-add-todo"),a=document.querySelectorAll(".todo-priority"),r=document.querySelectorAll(".todo-done"),d=document.querySelectorAll(".btn-kebab-menu"),s=document.querySelectorAll(".todo-btn-trash");if(t&&(t.disabled=!1),o&&o.forEach(e=>e.disabled=!1),i&&(i.disabled=!1),a&&a.forEach(e=>e.disabled=!1),r&&r.forEach(e=>{e.disabled=!1,e.classList.remove("checkbox-disabled")}),d&&d.forEach(e=>e.disabled=!1),s&&s.forEach(e=>e.disabled=!1),(this.isCreateProject||this.isEditProject||this.isCreateToDo||this.isEditToDo)&&(console.log("isCreateProject"),t&&(t.disabled=!0),o&&o.forEach(e=>e.disabled=!0),i&&(i.disabled=!0),a&&a.forEach(e=>e.disabled=!0),r&&r.forEach(e=>{e.disabled=!0,e.classList.add("checkbox-disabled")}),d&&d.forEach(e=>e.disabled=!0),s&&s.forEach(e=>e.disabled=!0)),e){const t=e.querySelector(".todo-priority"),o=e.querySelector(".todo-done");t.disabled=!1,o.disabled=!1,o.classList.remove("checkbox-disabled")}}renderProjectForm(){this.removeElement("li-add-project");const e=document.createElement("li"),t=document.createElement("input"),o=document.createElement("span"),i=document.createElement("button"),r=document.createElement("button"),d=document.createElement("i"),s=document.createElement("i");e.id="li-project-name",e.setAttribute("data-form","create-project-container"),t.id="input-project-name",t.classList.add("input-project-name"),t.type="text",t.maxLength="40",t.required=!0,t.setAttribute("data-role","input-create-project"),o.classList.add("create-project-span","invalid"),o.setAttribute("data-role","input-create-project-span"),o.textContent=a.validationMessages.projectName,i.id="btn-confirm-project",r.id="btn-cancel-project",e.classList.add("li-project","li-project-name"),i.classList.add("btn-confirm-project"),r.classList.add("btn-cancel-project"),d.classList.add("fas","fa-check","fa-lg"),s.classList.add("fas","fa-times","fa-lg"),i.setAttribute("data-role","btn-confirm-project"),r.setAttribute("data-role","btn-cancel-project"),i.appendChild(d),r.appendChild(s),e.appendChild(t),e.appendChild(o),e.appendChild(i),e.appendChild(r),this.projectList.appendChild(e)}cancelProjectForm(){const e=document.getElementById("li-project-name");e&&(console.log("project form is open, remove it now"),this.removeElement(e.id))}renderToDoForm(){const e=document.createElement("article"),t=document.createElement("div"),o=document.createElement("input"),i=document.createElement("span"),r=document.createElement("select"),d=document.createElement("option"),s=document.createElement("option"),n=document.createElement("option"),c=document.createElement("div"),l=document.createElement("label"),p=document.createElement("input"),u=document.createElement("span"),m=document.createElement("div"),b=document.createElement("label"),h=document.createElement("textarea"),g=document.createElement("span"),j=document.createElement("div"),v=document.createElement("button"),E=document.createElement("button"),D=document.createElement("i"),L=document.createElement("i");e.id="card-create-todo",e.classList.add("card"),e.classList.add("card-create-todo"),e.setAttribute("data-form","create-todo-container"),t.classList.add("create-todo-div-date"),o.id="create-todo-date",o.classList.add("create-todo-date"),o.type="date",o.required=!0,o.setAttribute("data-role","create-todo-input-date"),i.classList.add("create-todo-date-span","invalid"),i.textContent=a.validationMessages.date,i.setAttribute("data-role","create-todo-input-date-span"),r.id="create-todo-priority",r.classList.add("create-todo-priority"),r.name="create-todo-priority",d.value="low",d.textContent="Low",s.value="normal",s.textContent="Normal",n.value="high",n.textContent="High",c.classList.add("create-todo-title"),l.htmlFor="input-title",l.textContent="Title",p.id="input-title",p.classList.add("input-title"),p.type="text",p.required=!0,p.maxLength="50",p.setAttribute("data-role","create-todo-input-title"),u.classList.add("create-todo-title-span","invalid"),u.textContent=a.validationMessages.title,u.setAttribute("data-role","create-todo-input-title-span"),m.classList.add("create-todo-description"),b.htmlFor="textarea-description",b.textContent="Description",h.id="textarea-description",h.classList.add("textarea-description"),h.rows="3",h.maxLength="200",h.required=!0,h.setAttribute("data-role","create-todo-input-description"),g.classList.add("create-todo-description-span","invalid"),g.textContent=a.validationMessages.description,g.setAttribute("data-role","create-todo-input-description-span"),j.classList.add("create-todo-buttons"),v.classList.add("btn-confirm-create-todo"),v.setAttribute("data-role","btn-confirm-create-todo"),E.classList.add("btn-cancel-create-todo"),E.setAttribute("data-role","btn-cancel-create-todo"),D.classList.add("fas","fa-check","fa-lg"),L.classList.add("fas","fa-times","fa-lg"),t.appendChild(o),t.appendChild(i),r.appendChild(d),r.appendChild(s),r.appendChild(n),c.appendChild(l),c.appendChild(p),c.appendChild(u),m.appendChild(b),m.appendChild(h),m.appendChild(g),v.appendChild(D),E.appendChild(L),j.appendChild(v),j.appendChild(E),e.appendChild(t),e.appendChild(r),e.appendChild(c),e.appendChild(m),e.appendChild(j),this.containerToDos.appendChild(e),r.value="normal"}cancelToDoForm(){this.removeElement("card-create-todo")}renderToDo(e,t=null){console.log("renderToDo"),t||this.removeElement("card-create-todo");const o=this.projectManager.getActiveProject().getToDo(e),i=document.createElement("article"),a=document.createElement("p"),r=document.createElement("p"),d=document.createElement("input"),s=this.createKebabMenu("todo"),n=document.createElement("select"),c=document.createElement("option"),l=document.createElement("option"),p=document.createElement("option"),u=document.createElement("p"),m=document.createElement("button"),b=document.createElement("i");i.id=o.id,i.classList.add("card","card-todo"),i.setAttribute("data-role","expand-todo"),a.classList.add("todo-dueDate"),a.setAttribute("data-role","expand-todo"),a.textContent=`Due: ${o.dueDate}`,r.classList.add("todo-title"),r.setAttribute("data-role","expand-todo"),r.textContent=o.title,d.id=`checkbox-done-${o.id}`,d.classList.add("todo-done"),d.setAttribute("data-role","checkbox-todo"),d.type="checkbox",d.name="done",d.value="done",d.checked=o.done,n.id=`select-priority-${o.id}`,n.classList.add("todo-priority"),n.name="priority",n.setAttribute("data-role","select-priority"),c.value="low",c.textContent="LOW",l.value="normal",l.textContent="NORMAL",p.value="high",p.textContent="HIGH",u.classList.add("todo-description","is-hidden"),u.textContent=o.description,m.classList.add("todo-btn-trash"),m.setAttribute("data-role","btn-trash-todo"),b.classList.add("fas","fa-trash"),n.appendChild(c),n.appendChild(l),n.appendChild(p),m.appendChild(b),i.appendChild(a),i.appendChild(n),i.appendChild(d),i.appendChild(s),i.appendChild(r),i.appendChild(u),i.appendChild(m),n.value=o.getPriority(),this.updateLineThrough(r,o.done),this.containerToDos.insertBefore(i,t)}renderEditToDo(e,t){e.classList.remove("card-todo","card-todo-expanded"),e.classList.add("card-todo-edit"),e.setAttribute("data-form","edit-todo-container");const o=e.querySelector(".todo-btn-trash"),i=e.querySelector(".todo-div-kebab");o&&o.remove(),i&&i.remove();const r=e.querySelector(".todo-dueDate"),d=e.querySelector(".todo-title"),s=e.querySelector(".todo-description"),n=document.createElement("div"),c=document.createElement("input"),l=document.createElement("span"),p=document.createElement("div"),u=document.createElement("label"),m=document.createElement("input"),b=document.createElement("span"),h=document.createElement("div"),g=document.createElement("label"),j=document.createElement("textarea"),v=document.createElement("span"),E=document.createElement("div"),D=document.createElement("button"),L=document.createElement("button"),f=document.createElement("i"),C=document.createElement("i");n.classList.add("edit-todo-div-date"),c.classList.add("edit-input-dueDate"),c.name="input-dueDate-edit",c.setAttribute("data-role","edit-todo-input-date"),c.required=!0,l.classList.add("edit-todo-date-span","invalid"),l.textContent=a.validationMessages.date,l.setAttribute("data-role","edit-todo-input-date-span"),p.classList.add("edit-div-title"),u.htmlFor=`${e.id}-input-title-edit`,u.textContent="Title",m.id=`${e.id}-input-title-edit`,m.classList.add("input-title-edit"),m.setAttribute("data-role","edit-todo-input-title"),m.required=!0,b.classList.add("edit-todo-title-span","invalid"),b.textContent=a.validationMessages.title,b.setAttribute("data-role","edit-todo-input-title-span"),h.classList.add("edit-div-description"),g.htmlFor=`${e.id}-textarea-description-edit`,g.textContent="Description",j.id=`${e.id}-textarea-description-edit`,j.classList.add("textarea-edit-todo"),j.setAttribute("data-role","edit-todo-input-description"),j.required=!0,v.classList.add("edit-todo-description-span","invalid"),v.textContent=a.validationMessages.description,v.setAttribute("data-role","edit-todo-input-description-span"),c.type="date",m.type="text",E.classList.add("todo-div-edit-btns"),D.classList.add("btn-confirm-edit-todo"),D.setAttribute("data-role","btn-confirm-edit-todo"),L.classList.add("btn-cancel-edit-todo"),L.setAttribute("data-role","btn-cancel-edit-todo"),f.classList.add("fas","fa-check","fa-lg"),C.classList.add("fas","fa-times","fa-lg"),c.value=t.getDueDate(),m.value=t.getTitle(),j.value=t.getDescription(),n.appendChild(c),n.appendChild(l),p.appendChild(u),p.appendChild(m),p.appendChild(b),h.appendChild(g),h.appendChild(j),h.appendChild(v),r.replaceWith(n),d.replaceWith(p),s.replaceWith(h),D.appendChild(f),L.appendChild(C),E.appendChild(D),E.appendChild(L),e.appendChild(E)}createProject(e){this.renderProject(e)}renderAllProjects(e){e.forEach(e=>{this.renderProject(e)})}renderProject(e,t=null){this.removeElement("li-project-name");const o=e.id,i=this.projectManager.getProjects().find(e=>e.id===o);i&&this.removeElement(i.id);const a=this.projectManager.getDefaultProject().getId(),r=document.createElement("li"),d=document.createElement("button"),s=this.createKebabMenu("project");r.id=e.getId(),r.classList.add("li-project"),d.classList.add("btn-project"),d.setAttribute("data-role","btn-project"),d.textContent=e.getName(),r.appendChild(d),r.appendChild(s),t?this.projectList.insertBefore(r,t):this.projectList.appendChild(r),o===a&&s.classList.add("kebab-disabled")}renderEditProject(e){console.log("renderEditProject()");const t=e.querySelector(".btn-project"),o=e.querySelector(".project-div-kebab"),i=document.createElement("input"),r=document.createElement("button"),d=document.createElement("i"),s=document.createElement("button"),n=document.createElement("i"),c=document.createElement("span");e.classList.add("li-project-edit"),e.setAttribute("data-form","edit-project-container"),i.id=`${e.id}-input`,i.classList.add("input-project-edit"),i.setAttribute("data-role","input-edit-project"),i.value=t.textContent,i.required=!0,r.classList.add("btn-confirm-project-edit"),r.setAttribute("data-role","btn-confirm-edit-project"),s.classList.add("btn-cancel-project-edit"),s.setAttribute("data-role","btn-cancel-edit-project"),d.classList.add("fas","fa-check","fa-lg"),n.classList.add("fas","fa-times","fa-lg"),c.textContent=a.validationMessages.projectName,c.classList.add("edit-project-span","invalid"),c.setAttribute("data-role","input-edit-project-span"),t.replaceWith(i),r.appendChild(d),s.appendChild(n),e.insertBefore(r,o),e.insertBefore(s,o),e.appendChild(c)}createKebabMenu(e){const t=document.createElement("div"),o=document.createElement("button"),i=document.createElement("i"),a=document.createElement("ul"),r=document.createElement("li"),d=document.createElement("li"),s=document.createElement("hr");s.classList.add("dropdown-divider"),d.appendChild(s);const n=document.createElement("li"),c=document.createElement("button"),l=document.createElement("button");return"todo"===e?(t.classList.add("todo-div-kebab"),o.classList.add("btn-kebab-menu"),o.dataset.role="btn-kebab-menu",a.classList.add("kebab-menu-list","is-hidden"),c.classList.add("btn-kebab-edit"),c.setAttribute("data-role","btn-kebab-edit"),l.classList.add("btn-kebab-delete"),l.setAttribute("data-role","btn-kebab-delete")):"project"===e&&(t.classList.add("project-div-kebab"),o.classList.add("btn-kebab-menu-project"),o.dataset.role="btn-kebab-menu-project",a.classList.add("kebab-menu-list-project","is-hidden"),c.classList.add("btn-kebab-edit-project"),c.setAttribute("data-role","btn-kebab-menu-project-edit"),l.classList.add("btn-kebab-delete-project"),l.setAttribute("data-role","btn-kebab-menu-project-delete")),i.classList.add("fas","fa-ellipsis-v"),c.textContent="Edit",l.textContent="Delete",r.appendChild(c),n.appendChild(l),a.appendChild(r),a.appendChild(d),a.appendChild(n),o.appendChild(i),t.appendChild(o),t.appendChild(a),t}renderActiveProjectToDos(){console.log("renderActiveProjectToDos()");const e=this.projectManager.getActiveProject();console.log(e),e.getToDos().forEach(e=>{const t=e.getId();this.renderToDo(t)})}removeToDos(){this.containerToDos.innerHTML=""}removeElement(e){const t=document.getElementById(e);t&&t.remove()}getIsFormOpen(){return this.#e}setIsFormOpen(e){this.#e=e}highlightActiveProject(){document.querySelectorAll(".btn-project").forEach(e=>{e.classList.remove("activeProject")});const e=this.projectManager.getActiveProject().getId();document.getElementById(e).querySelector("button[data-role='btn-project']").classList.add("activeProject")}toggleHideDisplay(e){e.classList.toggle("is-hidden")}toggleToDoLayout(e){e.classList.toggle("card-todo"),e.classList.toggle("card-todo-expanded")}handleKebabClick(e){if(this.#t===e)return this.toggleHideDisplay(this.#t),void(this.#t=null);this.#t&&this.toggleHideDisplay(this.#t),this.#t=e,this.toggleHideDisplay(this.#t)}handleOutsideClick(e){const t=e.closest(".btn-kebab-menu-project"),o=e.closest(".todo-div-kebab");t||o||this.#t&&(this.toggleHideDisplay(this.#t),this.#t=null)}closeKebabMenu(){this.#t&&(this.toggleHideDisplay(this.#t),this.#t=null)}updateLineThrough(e,t){e&&(t?e.classList.add("checked"):e.classList.remove("checked"))}validateForms(e){console.log("validateForms()");const t=e.dataset.form;let o,i,a,r,d,s;if("create-todo-container"===t)i=e.querySelector("#create-todo-date"),a=e.querySelector("#create-todo-priority"),d=e.querySelector("#input-title"),s=e.querySelector("#textarea-description");else if("edit-todo-container"===t)i=e.querySelector(".edit-input-dueDate"),a=e.querySelector(".todo-priority"),r=e.querySelector(".todo-done"),d=e.querySelector(".input-title-edit"),s=e.querySelector(".textarea-edit-todo");else{if("create-project-container"===t){o=e.querySelector("#input-project-name");const t=this.validateInput(o);return t.result?{check:!0,inputs:{name:t.value}}:{check:!1,errors:{name:!t.result}}}if("edit-project-container"===t){o=e.querySelector(".input-project-edit");const t=this.validateInput(o);return t.result?{check:!0,inputs:{name:t.value}}:{check:!1,errors:{name:!t.result}}}}const n=this.validateInput(i),c=a.value,l=r?.checked||!1,p=this.validateInput(d),u=this.validateInput(s);return n.result&&p.result&&u.result?{check:!0,inputs:{title:p.value,description:u.value,dueDate:n.value,priority:c,done:l}}:(console.log("Input is missing something, do nothing for now"),{check:!1,errors:{date:!n.result,title:!p.result,description:!u.result}})}validateInput(e){console.log("validateInput()");let t,o={result:"",value:""};switch(e.dataset.role){case"input-add-project":case"create-todo-input-title":case"edit-todo-input-title":case"create-todo-input-description":case"edit-todo-input-description":case"input-create-project":case"input-edit-project":t=e.value.trim(),o.result=""!==t,o.value=t;break;case"create-todo-input-date":case"edit-todo-input-date":t=e.value,o.result=""!==t,o.value=t;break;default:console.log("Something went wrong. validateInput() (dom.js)")}return o}showFormErrorsOnSubmit(e,t){console.log("showFormErrorsOnSubmit()");let o,i,a,r,d,s=e.dataset.form;if("create-todo-container"===s)o=e.querySelector(".create-todo-date-span"),i=e.querySelector(".create-todo-title-span"),a=e.querySelector(".create-todo-description-span");else if("edit-todo-container"===s)o=e.querySelector(".edit-todo-date-span"),i=e.querySelector(".edit-todo-title-span"),a=e.querySelector(".edit-todo-description-span");else{if("create-project-container"===s)return r=e.querySelector(".create-project-span"),r.classList.remove("is-visible"),void(t.errors.name&&r.classList.add("is-visible"));if("edit-project-container"===s)return d=e.querySelector(".edit-project-span"),d.classList.remove("is-visible"),void(t.errors.name&&d.classList.add("is-visible"))}t.errors&&o&&i&&a&&(o.classList.remove("is-visible"),i.classList.remove("is-visible"),a.classList.remove("is-visible"),t.errors.date&&o.classList.add("is-visible"),t.errors.title&&i.classList.add("is-visible"),t.errors.description&&a.classList.add("is-visible"))}showFieldErrorOnBlur(e,t,o){console.log("showFieldErrorOnBlur()");const i=`${t.dataset.role}-span`,a=e.querySelector(`[data-role="${i}"]`);a&&(a.classList.remove("is-visible"),o.result||a.classList.add("is-visible"))}hideSpanValidationError(e,t){console.log("hideSpanValidationError");let o=e.querySelector(`[data-role="${t}-span"]`);o&&o.classList.remove("is-visible")}scrollFormIntoView(e){setTimeout(()=>{const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"nearest"})},50)}scrollKebabMenuIntoView(e){e.classList.contains("is-hidden")||setTimeout(()=>{e.scrollIntoView({behavior:"smooth",block:"nearest"})},50)}}document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("main-container"),t=document.getElementById("project-list"),r=document.getElementById("container-add-project-btn"),d=document.getElementById("container-todos"),s=document.getElementById("btn-add-project"),n=document.getElementById("btn-add-todo"),c=new i,l=new a(t,r,d,c),p=c.getLocalStorage();p.some(e=>e.id===o)||(c.createDefaultProject(),c.setLocalStorage()),c.reconstructProjects(p),l.renderAllProjects(c.getProjects()),l.highlightActiveProject(),l.renderActiveProjectToDos(),function(e,t){console.log("checkLocalStorage");const o=e.getLocalStorage();if(o.length<=1&&0===o[0].todos.length){const o=function(e,t){e.addProject("Tutorial"),t.createProject(e.getActiveProject());const o=e.getActiveProject();return t.highlightActiveProject(),o}(e,t);[{title:"Hello World!",description:"Create Projects and Todos. Everything will be saved in your Browser. But don't forget, the Default Project cannot be deleted.",dueDate:"2026-06-07",priority:"normal",done:!1},{title:"Create a new Project",description:'Click the "New +" button above, to create a new Project.',dueDate:"2026-06-07",priority:"normal",done:!1},{title:"Add your first task",description:'Click the "New +" button at the bottom, to create a new to-do.',dueDate:"2026-06-07",priority:"normal",done:!1},{title:"Mark a task as done",description:"Check the box next to a task to mark it complete - try it with this one!",dueDate:"2026-06-07",priority:"high",done:!1},{title:"Expand todo to see description",description:"Click on one of your todos, to expand them and see the description.",dueDate:"2026-06-07",priority:"normal",done:!1},{title:"Delete Project and ToDos",description:"You can delete every Project and Todo using the Kebab Button or Trash Icon on Todo.",dueDate:"2026-06-07",priority:"normal",done:!1}].forEach(e=>{!function(e,t,o){const i=t.addToDo({title:o.title,description:o.description,dueDate:o.dueDate,priority:o.priority,done:!1});e.renderToDo(i)}(t,o,e)}),e.setLocalStorage()}}(c,l),e.addEventListener("click",e=>{l.handleOutsideClick(e.target);const t=e.target.closest("[data-role]")?.dataset.role;let o,i,a,r,d,p,u,m,b,h,g,j,v,E;if(t)switch(t){case"btn-add-project":if(console.log("btn-add-project"),l.getIsFormOpen())return;l.setIsFormOpen(!0),l.renderProjectForm(),l.toggleHideDisplay(s),l.isCreateProject=!0,l.updateButtonStates(),l.scrollFormIntoView("li-project-name");break;case"btn-confirm-project":console.log("btn-confirm-project"),u=e.target.closest("li"),o=l.validateForms(u),o.check?(l.setIsFormOpen(!1),c.addProject(o.inputs.name),l.createProject(c.getActiveProject()),l.highlightActiveProject(),l.toggleHideDisplay(s),l.removeToDos(),c.setLocalStorage(),l.isCreateProject=!1,l.updateButtonStates()):l.showFormErrorsOnSubmit(u,o);break;case"btn-cancel-project":console.log("btn-cancel-project"),l.setIsFormOpen(!1),l.cancelProjectForm(),l.toggleHideDisplay(s),l.isCreateProject=!1,l.updateButtonStates();break;case"btn-confirm-edit-project":console.log("btn-confirm-edit-project"),u=e.target.closest("li"),b=u.id,E=u.nextSibling,o=l.validateForms(u),o.check?(l.setIsFormOpen(!1),h=c.getProjectById(b),h.setName(o.inputs.name),c.setLocalStorage(),l.renderProject(h,E),l.highlightActiveProject(),l.isEditProject=!1,l.updateButtonStates()):l.showFormErrorsOnSubmit(u,o);break;case"btn-cancel-edit-project":console.log("btn-cancel-edit-project"),l.setIsFormOpen(!1),u=e.target.closest("li"),E=u.nextSibling,b=u.id,h=c.getProjectById(b),l.renderProject(h,E),l.highlightActiveProject(),l.isEditProject=!1,l.updateButtonStates();break;case"btn-add-todo":if(console.log("btn-add-todo"),l.getIsFormOpen())return;l.setIsFormOpen(!0),l.renderToDoForm(),l.toggleHideDisplay(n),l.isCreateToDo=!0,l.updateButtonStates(),l.scrollFormIntoView("card-create-todo");break;case"btn-confirm-create-todo":console.log("btn-confirm-create-todo"),j=e.target.closest("article"),i=l.validateForms(j),i.check?(l.setIsFormOpen(!1),h=c.getActiveProject(),b=h.addToDo(i.inputs),l.renderToDo(b),l.toggleHideDisplay(n),c.setLocalStorage(),l.isCreateToDo=!1,l.updateButtonStates()):l.showFormErrorsOnSubmit(j,i);break;case"btn-cancel-create-todo":console.log("btn-cancel-create-todo"),l.setIsFormOpen(!1),l.cancelToDoForm(),l.toggleHideDisplay(n),l.isCreateToDo=!1,l.updateButtonStates();break;case"btn-confirm-edit-todo":console.log("btn-confirm-edit-todo"),l.setIsFormOpen(!1),j=e.target.closest("article"),a=l.validateForms(j),a.check?(b=j.id,h=c.getActiveProject(),h.updateToDo(b,a.inputs),E=j.nextSibling,l.removeElement(b),l.renderToDo(b,E),c.setLocalStorage(),l.isEditToDo=!1,l.updateButtonStates()):l.showFormErrorsOnSubmit(j,a);break;case"btn-cancel-edit-todo":console.log("btn-cancel-edit-todo"),l.setIsFormOpen(!1),j=e.target.closest("article"),b=j.id,h=c.getActiveProject(),g=h.getToDo(b),E=j.nextSibling,l.removeElement(b),l.renderToDo(b,E),l.isEditToDo=!1,l.updateButtonStates();break;case"btn-project":console.log("btn-project"),l.getIsFormOpen()&&(l.setIsFormOpen(!1),l.cancelProjectForm(),m=document.querySelector(".li-project-edit"),m&&(E=m.nextSibling,b=m.id,h=c.getProjectById(b),l.renderProject(h,E)),n.classList.contains("is-hidden")&&l.toggleHideDisplay(n),s.classList.contains("is-hidden")&&l.toggleHideDisplay(s)),u=e.target.closest("li"),b=u.id,c.switchActiveProject(b),l.highlightActiveProject(),l.removeToDos(),l.renderActiveProjectToDos(),l.isCreateProject=!1,l.isEditProject=!1,l.isCreateToDo=!1,l.isEditToDo=!1,l.updateButtonStates();break;case"btn-trash-todo":case"btn-kebab-delete":console.log("btn-trash-todo"),b=e.target.closest("article").id,h=c.getActiveProject(),h.removeToDo(b),l.removeElement(b),l.closeKebabMenu(),c.setLocalStorage();break;case"btn-kebab-menu":if(console.log("btn-kebab-menu"),l.getIsFormOpen())return;j=e.target.closest("article"),d=j.querySelector(".kebab-menu-list"),l.handleKebabClick(d),l.scrollKebabMenuIntoView(d);break;case"btn-kebab-edit":if(console.log("btn-kebab-edit"),l.getIsFormOpen())return;l.setIsFormOpen(!0),j=e.target.closest("article"),b=j.id,h=c.getActiveProject(),g=h.getToDo(b),l.renderEditToDo(j,g),l.closeKebabMenu(),l.isEditToDo=!0,l.updateButtonStates(j);break;case"btn-kebab-menu-project":if(console.log("btn-kebab-menu-project"),l.getIsFormOpen())return;u=e.target.closest("li"),d=u.querySelector(".kebab-menu-list-project"),l.handleKebabClick(d),l.scrollKebabMenuIntoView(d);break;case"btn-kebab-menu-project-edit":if(console.log("btn-kebab-menu-project-edit"),l.getIsFormOpen())return;l.setIsFormOpen(!0),u=e.target.closest("li[id]"),l.renderEditProject(u),l.isEditProject=!0,l.updateButtonStates();break;case"btn-kebab-menu-project-delete":console.log("btn-kebab-menu-project-delete"),u=e.target.closest("li[id]"),console.log(u),b=u.id,r=c.removeProject(u.id),r&&(l.removeElement(u.id),l.highlightActiveProject(),l.removeToDos(),l.renderActiveProjectToDos(),c.setLocalStorage());break;case"checkbox-todo":console.log("checkbox-todo"),j=e.target.closest("article"),v=j.querySelector(".todo-title"),l.updateLineThrough(v,e.target.checked),b=j.id,h=c.getActiveProject(),g=h.getToDo(b),g.setDone(e.target.checked),c.setLocalStorage();break;case"checkbox-edit-todo":console.log("checkbox-edit-todo"),j=e.target.closest("article"),b=j.dataset.currentToDoId,h=c.getActiveProject(),g=h.getToDo(b),g.setDone(e.target.checked);break;case"expand-todo":if(console.log("expand-todo"),l.isCreateProject||l.isEditProject||l.isCreateToDo||l.isEditToDo)return;j=e.target.closest("article"),p=j.querySelector(".todo-description"),p&&(l.toggleToDoLayout(j),l.toggleHideDisplay(p));break;default:console.log("default case click event.")}}),e.addEventListener("change",e=>{let t,o,i;const a=e.target.closest("select");a&&("select-priority"===a.dataset.role?(console.log("select-priority"),t=c.getActiveProject(),o=e.target.closest("article").id,i=t.getToDo(o),i.setPriority(a.value),c.setLocalStorage()):console.log("default case change event."))}),e.addEventListener("input",e=>{let t,o;const i=e.target.dataset.role;switch(i){case"create-todo-input-date":case"edit-todo-input-date":case"create-todo-input-title":case"edit-todo-input-title":case"create-todo-input-description":case"edit-todo-input-description":t=e.target.closest("article"),l.hideSpanValidationError(t,i);break;case"input-create-project":o=e.target.closest("li"),l.hideSpanValidationError(o,i);break;case"input-edit-project":console.log("here we are ma boi"),o=e.target.closest("li"),l.hideSpanValidationError(o,i)}}),e.addEventListener("focusout",e=>{let t,o,i,a;switch(e.target.dataset.role){case"create-todo-input-date":case"edit-todo-input-date":case"create-todo-input-title":case"edit-todo-input-title":case"create-todo-input-description":case"edit-todo-input-description":a=e.target,o=a.closest("article"),t=l.validateInput(a),l.showFieldErrorOnBlur(o,a,t);break;case"input-create-project":case"input-edit-project":a=e.target,i=a.closest("li"),t=l.validateInput(a),l.showFieldErrorOnBlur(i,a,t)}})})})();
//# sourceMappingURL=main.js.map